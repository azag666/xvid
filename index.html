<!DOCTYPE html>

<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sniper Cash v3.5 - Automação de Vendas</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<style>
body { background-color: #020617; color: #f1f5f9; }
.glass { background: rgba(15, 23, 42, 0.95); backdrop-filter: blur(20px); border: 1px solid rgba(239, 68, 68, 0.3); }
.loader { border-top-color: #ef4444; -webkit-animation: spinner 1.5s linear infinite; animation: spinner 1.5s linear infinite; }
@keyframes spinner { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
.bg-grid {
background-image: radial-gradient(circle at 1px 1px, rgba(239, 68, 68, 0.15) 1px, transparent 0);
background-size: 30px 30px;
}
.glow-red { box-shadow: 0 0 20px rgba(239, 68, 68, 0.4); }
</style>
</head>
<body class="h-screen flex items-center justify-center p-4 bg-grid">

<div class="glass max-w-lg w-full p-8 rounded-[2rem] shadow-2xl relative overflow-hidden border-t-4 border-t-red-600">
    
    <!-- Header Estratégico -->
    <div class="text-center mb-10 relative z-10">
        <div class="bg-gradient-to-tr from-red-600 to-orange-500 w-20 h-20 rounded-3xl flex items-center justify-center mx-auto mb-4 glow-red transform -rotate-3">
            <i class="fa-solid fa-fire-flame-curved text-3xl text-white"></i>
        </div>
        <h1 class="text-4xl font-black text-white tracking-tighter uppercase italic">Sniper<span class="text-red-600">Cash</span></h1>
        <p class="text-slate-400 text-sm font-bold mt-1 tracking-widest uppercase">Máquina de Vendas Automáticas</p>
        
        <div class="grid grid-cols-2 gap-3 mt-6">
            <div class="bg-slate-900/50 p-3 rounded-2xl border border-slate-800">
                <p class="text-[10px] text-slate-500 uppercase font-black">Ticket Unitário</p>
                <p class="text-green-500 font-black text-lg">R$ 3,99</p>
            </div>
            <div class="bg-slate-900/50 p-3 rounded-2xl border border-slate-800">
                <p class="text-[10px] text-slate-500 uppercase font-black">Acesso Vitalício</p>
                <p class="text-yellow-500 font-black text-lg">R$ 19,99</p>
            </div>
        </div>
    </div>

    <form id="disparoForm" class="space-y-5 relative z-10">
        
        <!-- Configurações Ocultas -->
        <div id="configArea" class="hidden absolute inset-0 bg-slate-950/98 z-30 flex flex-col justify-center p-10 rounded-[2rem] border-2 border-red-600/50">
            <h3 class="text-white font-black text-2xl mb-8 flex items-center gap-3"><i class="fa-solid fa-terminal text-red-600"></i> SYSTEM CONFIG</h3>
            <div class="space-y-4">
                <div class="space-y-1">
                    <label class="text-[10px] font-black text-slate-500 uppercase ml-1">Usuário GitHub</label>
                    <input type="text" id="ghUser" class="w-full bg-slate-900 border border-slate-800 rounded-xl p-4 text-sm text-white focus:border-red-600 outline-none">
                </div>
                <div class="space-y-1">
                    <label class="text-[10px] font-black text-slate-500 uppercase ml-1">Repositório</label>
                    <input type="text" id="ghRepo" class="w-full bg-slate-900 border border-slate-800 rounded-xl p-4 text-sm text-white focus:border-red-600 outline-none">
                </div>
                <div class="space-y-1">
                    <label class="text-[10px] font-black text-slate-500 uppercase ml-1">Token PAT</label>
                    <input type="password" id="ghToken" class="w-full bg-slate-900 border border-slate-800 rounded-xl p-4 text-sm text-white focus:border-red-600 outline-none">
                </div>
            </div>
            <div class="mt-10 flex gap-4">
                <button type="button" onclick="toggleConfig()" class="flex-1 bg-slate-800 text-white p-4 rounded-xl font-black hover:bg-slate-700 transition-all uppercase text-xs">Fechar</button>
                <button type="button" onclick="saveConfig()" class="flex-1 bg-red-600 text-white p-4 rounded-xl font-black hover:bg-red-700 transition-all uppercase text-xs glow-red">Salvar</button>
            </div>
        </div>

        <!-- Input do Scraping -->
        <div>
            <label class="block text-[11px] font-black text-slate-500 mb-2 uppercase tracking-tighter">Fonte de Extração (Link do Site)</label>
            <div class="relative">
                <input type="url" id="videoUrl" required
                    class="w-full bg-slate-900 border border-slate-800 text-white text-sm rounded-2xl focus:ring-2 focus:ring-red-600 focus:border-transparent block w-full p-4 pl-12 transition-all placeholder-slate-700" 
                    placeholder="https://site.com/video-para-scrapping">
                <i class="fa-solid fa-bolt absolute left-4 top-1/2 -translate-y-1/2 text-red-600"></i>
            </div>
        </div>

        <!-- Link do Checkout Personalizado -->
        <div>
            <label class="block text-[11px] font-black text-slate-500 mb-2 uppercase tracking-tighter">Link do Teu Checkout (Botão do Telegram)</label>
            <div class="relative">
                <input type="url" id="checkoutLink" required
                    class="w-full bg-slate-800/50 border border-slate-700 text-white text-sm rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-transparent block w-full p-4 pl-12 transition-all placeholder-slate-700" 
                    placeholder="https://teu-checkout.com/pagamento">
                <i class="fa-solid fa-wallet absolute left-4 top-1/2 -translate-y-1/2 text-green-500"></i>
            </div>
            <p class="text-[10px] text-slate-600 mt-2 font-bold px-1">Este link será o destino ÚNICO de todos os botões disparados.</p>
        </div>

        <!-- Chamada para Ação -->
        <div>
            <label class="block text-[11px] font-black text-slate-500 mb-2 uppercase tracking-tighter">Copy de Venda (CTA)</label>
            <input type="text" id="captionText"
                class="w-full bg-slate-900 border border-slate-800 text-white text-sm rounded-2xl focus:ring-2 focus:ring-red-600 p-4 transition-all" 
                placeholder="Ex: ACESSO VITALÍCIO LIBERADO - R$ 19,99">
        </div>

        <div class="flex justify-between items-center py-2">
            <button type="button" onclick="toggleConfig()" class="text-slate-500 hover:text-white text-[10px] font-black uppercase transition-all flex items-center gap-2">
                <i class="fa-solid fa-sliders text-red-600"></i> Configurações API
            </button>
            <span class="text-slate-800 font-black text-[10px] uppercase tracking-widest">v3.5 Stealth Mode</span>
        </div>

        <button type="submit" id="btnEnviar" 
            class="w-full text-white bg-gradient-to-r from-red-600 to-red-800 hover:from-red-500 hover:to-red-700 font-black rounded-2xl text-lg px-6 py-5 text-center shadow-2xl transition-all transform hover:scale-[1.02] active:scale-95 disabled:opacity-50 glow-red">
            <span id="btnText" class="flex items-center justify-center gap-4">
                GERAR LUCRO AGORA <i class="fa-solid fa-money-bill-trend-up"></i>
            </span>
            <div id="loadingSpinner" class="hidden flex items-center justify-center gap-4">
                <div class="w-6 h-6 border-4 border-white/20 border-t-white rounded-full loader"></div>
                <span>MONETIZANDO...</span>
            </div>
        </button>
    </form>

    <div id="statusMsg" class="mt-6 text-center text-[11px] hidden p-4 rounded-2xl font-black border transition-all uppercase tracking-tight"></div>
</div>

<script>
    window.onload = () => {
        const fields = ['ghUser', 'ghRepo', 'ghToken', 'checkoutLink'];
        fields.forEach(f => {
            if(localStorage.getItem(f)) document.getElementById(f).value = localStorage.getItem(f);
        });
    };

    function toggleConfig() {
        document.getElementById('configArea').classList.toggle('hidden');
    }

    function saveConfig() {
        const fields = ['ghUser', 'ghRepo', 'ghToken'];
        fields.forEach(f => localStorage.setItem(f, document.getElementById(f).value));
        toggleConfig();
        showStatus('Sistema Configurado com Sucesso!', 'success');
    }

    document.getElementById('disparoForm').addEventListener('submit', async (e) => {
        e.preventDefault();
        
        const user = document.getElementById('ghUser').value;
        const repo = document.getElementById('ghRepo').value;
        const token = document.getElementById('ghToken').value;
        const url = document.getElementById('videoUrl').value;
        const checkout = document.getElementById('checkoutLink').value;
        const caption = document.getElementById('captionText').value;
        
        if(!user || !repo || !token) {
            showStatus('Erro: Configura a API primeiro!', 'error');
            toggleConfig();
            return;
        }

        localStorage.setItem('checkoutLink', checkout);
        setLoading(true);
        showStatus('A extrair vídeos e a configurar checkout...', 'info');

        try {
            const response = await fetch(`https://api.github.com/repos/${user}/${repo}/dispatches`, {
                method: 'POST',
                headers: {
                    'Accept': 'application/vnd.github.v3+json',
                    'Authorization': `token ${token}`
                },
                body: JSON.stringify({
                    event_type: 'iniciar_disparo',
                    client_payload: {
                        video_url: url,
                        caption_text: caption,
                        button_link: checkout
                    }
                })
            });

            if (response.status === 204) {
                showStatus('✅ Sucesso! Os vídeos estão a ser enviados para o grupo.', 'success');
                document.getElementById('videoUrl').value = '';
            } else {
                const data = await response.json();
                showStatus(`❌ Erro: ${data.message}`, 'error');
            }
        } catch (error) {
            showStatus(`❌ Falha de Rede: ${error.message}`, 'error');
        } finally {
            setLoading(false);
        }
    });

    function setLoading(isLoading) {
        const btn = document.getElementById('btnEnviar');
        const txt = document.getElementById('btnText');
        const spin = document.getElementById('loadingSpinner');
        btn.disabled = isLoading;
        if(isLoading) { txt.classList.add('hidden'); spin.classList.remove('hidden'); }
        else { txt.classList.remove('hidden'); spin.classList.add('hidden'); }
    }

    function showStatus(msg, type) {
        const el = document.getElementById('statusMsg');
        el.textContent = msg;
        el.className = 'mt-6 text-center text-[11px] p-4 rounded-2xl font-black border transition-all uppercase ';
        el.classList.remove('hidden');
        if(type === 'error') el.classList.add('bg-red-500/10', 'text-red-500', 'border-red-500/20');
        else if (type === 'success') el.classList.add('bg-green-500/10', 'text-green-500', 'border-green-500/20');
        else el.classList.add('bg-blue-500/10', 'text-blue-500', 'border-blue-500/20');
    }
</script>


</body>
</html>
